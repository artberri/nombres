@page "/"
@inject HttpClient Http
@inject Names.Web.ApiClients.YearApiClient YearApiClient
@using Microsoft.AspNetCore.Blazor.Browser.Interop
@using Names.Domain.Entities

<div class="header">
    <div class="flex">
        <ProvinceSelector />
    </div>
    <ChartSelector />
    <div>
        <div class="addthis_inline_share_toolbox"></div>
    </div>
</div>

<canvas class="chart" id="canvas"></canvas>

<div>
    <div class="footer">
        <div>
            <p>Datos procedentes de la Estadística del Padrón Continuo a fecha 01/01/2016</p>
            <p><a href="http://www.ine.es/tnombres/formGeneral.do?vista=1">Fuente de datos: Sitio web del INE (www.ine.es)</a></p>
            <p><a href="https://dataaddict.fr/prenoms/">Basado en un proyecto de Data Addict</a></p>
        </div>
        <div class="right">
            <p><a href="https://en.wiktionary.org/wiki/pet_project">Pet Project</a> experimental creado con <a href="https://blazor.net">Blazor</a></p>
            <p>Código fuente disponible en <a href="https://github.com/artberri/nombres">Github</a></p>
            <p>Desarrollado por <a href="https://www.berriart.com/">Alberto Varela</a> con cariño y cerveza</p>
        </div>
    </div>
</div>

@functions {
    protected override void OnAfterRender()
    {
        RenderChart();
    }

    protected void RenderChart()
    {
        RegisteredFunction.Invoke<bool>("renderChart");
    }
}
